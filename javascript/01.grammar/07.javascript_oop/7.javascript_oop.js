// [7] Object Oriented Programming
// (a) OOP ë€?
//     - ê°ì²´ ì§€í–¥ í”„ë¡œê·¸ë˜ë°ì€ Java ë° C++ë¥¼ ë¹„ë¡¯í•œ ë§ì€ í”„ë¡œê·¸ë˜ë° ì–¸ì–´ì˜ ê¸°ë³¸
//     - ê°ì²´ ì§€í–¥ í”„ë¡œê·¸ë˜ë° ì „ì—ëŠ” ëª…ë ¥ì–´ì˜ ëª©ë¡ì„ ë‚˜ì—´(ì ˆì°¨ ì§€í–¥ í”„ë¡œê·¸ë˜ë°)í–ˆìœ¼ë‚˜ ë³µì¡í•´ì§
//     - í•˜ë‚˜ì˜ ë¬¸ì œ, íŠ¹ì •í•œ ëª©ì ì„ í•´ê²°ì„ ìœ„í•œ ë…ë¦½ëœ ë‹¨ìœ„ì¸ ê°ì²´ë¡œ ë§Œë“¤ì—ˆê³  ê°ì²´ë“¤ì˜ ëª¨ì„ìœ¼ë¡œ í”„ë¡œê·¸ë¨ì„ íŒŒì•…
//
// (a) OOP íŠ¹ì§•
//     - ì¶”ìƒí™” (Abstraction)
//       ë¶ˆí•„ìš”í•œ ì •ë³´ëŠ” ìˆ¨ê¸°ê³  ì¤‘ìš”í•œ ì •ë³´ë§Œì„ í‘œí˜„í•´ í”„ë¡œê·¸ë¨ì„ ê°„ë‹¨í•˜ê²Œë§Œë“¬, ìì„¸í•œ ë‚´ìš©ì„ ëª°ë¼ë„ ì¤‘ìš” ì •ë³´ë¥¼ ì´ìš©í•´ ê°ì²´ë¥¼ ì‚¬ìš©
//     - ìƒì†í™” (Inheritance)
//       ìƒì†ì€ ìƒˆë¡œìš´ í´ë˜ìŠ¤ê°€ ê¸°ì¡´ í´ë˜ìŠ¤ì˜ ìë£Œì™€ ì—°ì‚°ì„ ì´ìš©í•  ìˆ˜ ìˆê²Œ í•˜ëŠ” ê¸°ëŠ¥
//       ìƒì† ë°›ëŠ” ìƒˆë¡œìš´ í´ë˜ìŠ¤ë¥¼ ë¶€, íŒŒìƒ, í•˜ìœ„, ìì‹ í´ë˜ìŠ¤ë¼í•˜ê³ , ìƒì†í•˜ëŠ” ê¸°ì¡´ì˜ í´ë˜ìŠ¤ë¥¼ ìƒìœ„, ë¶€ëª¨í´ë˜ìŠ¤ë¼í•¨
//       ìƒì†ì„ í†µí•´ í”„ë¡œê·¸ë¨ì˜ ìš”êµ¬ì— ë§ì¶° í´ë˜ìŠ¤ë¥¼ ìˆ˜ì •, í´ë˜ìŠ¤ ê°„ì˜ ì¢…ì† ê´€ê³„ë¥¼ í˜•ì„±í•´ ê°ì²´ë¥¼ ì¡°ì§í™”í•¨
//     - ìº¡ìŠí™” (encapsulation)
//       ìº¡ìŠí™”ëŠ” í´ë˜ìŠ¤ ì•ˆì— ê´€ë ¨ ë©”ì„œë“œ, ë³€ìˆ˜ ë“±ì„ í•˜ë‚˜ë¡œ ë¬¶ì–´ì¤Œ, ì´ë¥¼ í†µí•´ ì™¸ë¶€ì˜ ì ‘ê·¼ì„ ë§‰ì•„ ë³´ì•ˆ ê°•í™”, ê´€ë¦¬ ìš©ì´ ì½”ë“œë¥¼ ì œê³µ
//     - ë‹¤í˜•í™” (Polymorphism)
//       ê°™ì€ ë©”ì„œë“œë¼ë„ ê° ì¸ìŠ¤í„´ìŠ¤ì— ë”°ë¼ ë‹¤ì–‘í•œ í˜•íƒœë¥¼ ê°€ì§ˆ ìˆ˜ ìˆëŠ”ê²ƒ, ê°ì²´ì˜ ë³€ìˆ˜ë‚˜ ë©”ì„œë“œê°€ ìƒí™©ì— ë”°ë¼ ë‹¤ë¥¸ ì˜ë¯¸ë¡œ í•´ì„ë˜ëŠ” ê²ƒ
//       ì˜¤ë²„ ë¼ì´ë”©ì„ í†µí•´ ìì‹ í´ë˜ìŠ¤ì˜ ë©”ì„œë“œê°€ ë¶€ëª¨ í´ë˜ìŠ¤ì˜ ë©”ì„œë“œì™€ ë‹¤ë¥´ê²Œ ë™ì‘í•˜ê±°ë‚˜ ë³€ìˆ˜ê°€ ë‹¤ë¥¸ ê°’ìœ¼ë¡œ ì§€ì •ë  ìˆ˜ ìˆìŒ
        class Animal { // ë™ë¬¼ í´ë˜ìŠ¤
            constructor(name) { this.name = name; }
            makeSound() {console.log("ë™ë¬¼ ì†Œë¦¬ë¥¼ ë‚´ê³  ìˆìŠµë‹ˆë‹¤.");}
        }
        class Dog extends Animal { makeSound() {console.log("ë©ë©! ğŸ¶");}}  // ê°œ í´ë˜ìŠ¤ - Animal í´ë˜ìŠ¤ë¥¼ ìƒì†ë°›ìŒ
        class Cat extends Animal { makeSound() {console.log("ì•¼ì˜¹! ğŸ±");}}; // ê³ ì–‘ì´ í´ë˜ìŠ¤ - Animal í´ë˜ìŠ¤ë¥¼ ìƒì†ë°›ìŒ
        function animalSound(animal) {animal.makeSound();} // ë‹¤í˜•ì„±ì„ í™œìš©í•œ í•¨ìˆ˜
        const animal1 = new Animal("ë™ë¬¼"); // ë‹¤ì–‘í•œ ë™ë¬¼ ê°ì²´ë¥¼ ìƒì„±í•˜ì—¬ ë‹¤í˜•ì„± í•¨ìˆ˜ì— ì „ë‹¬
        const dog = new Dog("ëŒ•ëŒ•ì´");
        const cat = new Cat("ì•¼ì˜¹ì´");
        animalSound(animal1); // ì¶œë ¥: "ë™ë¬¼ ì†Œë¦¬ë¥¼ ë‚´ê³  ìˆìŠµë‹ˆë‹¤."
        animalSound(dog);     // ì¶œë ¥: "ë©ë©! ğŸ¶"
        animalSound(cat);     // ì¶œë ¥: "ì•¼ì˜¹! ğŸ±"

// (b) OOP 5ê°€ì§€ ì›ì¹™(S.O.L.I.D)
//     - ë‹¨ì¼ ì±…ì„ ì›ì¹™ (SRP): í•œ í´ë˜ìŠ¤ëŠ” í•˜ë‚˜ì˜ ì±…ì„ë§Œ ê°€ì§
//     - ê°œë°© íì‡„ ì›ì¹™ (OCP): í™•ì¥ì—ëŠ” ì—´ë ¤ ìˆìœ¼ë‚˜, ë³€ê²½ì—ëŠ” ë‹«í˜€ìˆì–´ì•¼í•¨
//     - ë¦¬ìŠ¤ì½”í”„ ì¹˜í™˜ ì›ì¹™ (LSP): í”„ë¡œê·¸ë¨ì˜ ê°ì²´ëŠ” í”„ë¡œê·¸ë¨ì˜ ì •í™•ì„±ì„ ê¹¨ëœ¨ë¦¬ì§€ ì•Šìœ¼ë©´ì„œ í•˜ìœ„ íƒ€ì…ì˜ ì¸ìŠ¤í„´ìŠ¤ë¡œ ë³€ê²½ ê°€ëŠ¥í•´ì•¼í•¨
//     - ì¸í„°í˜ì´ìŠ¤ ë¶„ë¦¬ ì›ì¹™ (ISP): íŠ¹ì • í´ë¼ì´ì–¸íŠ¸ë¥¼ ìœ„í•œ ì¸í„°í˜ì´ìŠ¤ ì—¬ëŸ¬ ê°œê°€ ë²”ìš© ì¸í„°í˜ì´ìŠ¤ í•˜ë‚˜ë³´ë‹¤ ë‚«ìŒ
//     - ì˜ì¡´ê´€ê³„ ì—­ì „ ì›ì¹™ (DIP): ì¶”ìƒí™”ì— ì˜ì¡´í•˜ê³ , êµ¬ì²´í™”ì— ì˜ì¡´í•˜ë©´ ì•ˆë¨

// (d) javascript prototype
//     - prototypeì€ javascript ê°ì²´ê°€ ë‹¤ë¥¸ ê°ì²´ë¡œ ë¶€í„° ë©”ì„œë“œì™€ ì†ì„±ì„ ìƒì†ë°›ëŠ” ë©”ì»¤ë‹ˆì¦˜(í”„ë¡œí† íƒ€ì… ì²´ì¸)ì„ ë§í•¨
//     - ì¬ì‚¬ìš©ì„±ì„ ìœ„í•´ prototypeì„ ì‚¬ìš©, ëª¨ë“  ê°ì²´ëŠ” glboal Object Prototypeì„ ê°€ì§€ê³  ë©”ì„œë“œë¥¼ ìƒì† ë°›ì•„ ì‚¬ìš©í•¨
        let user = { name: 'pjs', age: '24' }
        console.log(user.name);
        console.log(user); // ë¡œê·¸ì—ì„œ prototype object ëˆŒëŸ¬ë³´ê¸°
        console.log(user.hasOwnProperty('email')); // hasOwnProperty -> glboal Object Prototype
//     - calAge()ëŠ” prototype objectì— ë“¤ì–´ê°€ìˆì§€ ì•ŠìŒ
        function Person1(name, email, birthday) {
            this.name = name;
            this.email = email;
            this.birthday = new Date(birthday);
            this.calAge1 = function(){ 
                const diff = Date.now() - this.birthday.getTime();
                const ageDate = new Date(diff);
                return Math.abs(ageDate.getUTCFullYear() - 1970);
            }
        }
        const pjs1 = new Person1('pjs', 'pjs@email.com', '1999-05-05');
        console.log(pjs1);
        console.log(pjs1.calAge1());
//     - calAgeë¥¼ prototype ì— ë„£ëŠ” ì²«ë²ˆì§¸ ë°©ë²•
        function Person2(name, email, birthday) {
            this.name = name;
            this.email = email;
            this.birthday = new Date(birthday);
        }
        Person2.prototype.calAge2 = function() { 
            const diff = Date.now() - this.birthday.getTime();
            const ageDate = new Date(diff);
            return Math.abs(ageDate.getUTCFullYear() - 1970);
        }
        const pjs2 = new Person2('pjs2', 'pjs2@email.com', '1999-05-05');
        console.log(pjs2);
        console.log(pjs2.calAge2());

        //     - calAgeë¥¼ prototype objectì— ë„£ëŠ” ë‘ë²ˆì§¸ ë°©ë²•
        function Person3(name, email, birthday) {
            const person = Object.create(personPrototype); // Object.create() ë©”ì„œë“œëŠ” ì§€ì •ëœ í”„ë¡œí† íƒ€ì… ê°ì²´ ë° ì†ì„±ì„ ê°–ëŠ” ìƒˆ ê°ì²´ë¥¼ ë§Œë“¬
            person.name = name;
            person.email = email;
            person.birthday = new Date(birthday);
            return person;
        }
        const personPrototype = {
            calAge3() {
                const diff = Date.now() - this.birthday.getTime();
                const ageDate = new Date(diff);
                return Math.abs(ageDate.getUTCFullYear() - 1970);
            }
        }
        const pjs3 = new Person3('pjs2', 'pjs2@email.com', '1999-05-05');
        console.log(pjs3);
        console.log(pjs3.calAge3());

// (e) ES6 classes
//     - ES6ì—ì„œ ë‚˜ì˜¨ Classesë¥¼ ì´ìš©í•´ ë” ì‰½ê²Œ OOP êµ¬í˜„ê°€ëŠ¥, ë¬¸ë²•ì´ OOPë°©ì‹ì´ì§€ë§Œ ë‚´ë¶€ì—ì„  prototypeì„ ì‚¬ìš©í•˜ë©° ì‘ë™
//     - constructorëŠ” ì¸ìŠ¤í„´ìŠ¤ì˜ ìƒì„±ê³¼ ë™ì‹œì— í´ë˜ìŠ¤ í•„ë“œì˜ ìƒì„±ê³¼ ì´ˆê¸°í™”ë¥¼ ì‹¤í–‰, ìƒëµê°€ëŠ¥, newë¡œ ìë™í˜¸ì¶œ
//     - thisëŠ” í´ë˜ìŠ¤ê°€ ìƒì„±í•  ì¸ìŠ¤í„´ìŠ¤ë¥¼ ê°€ë¦¬í‚´
//     - this.~ë¥¼ ì“°ì§€ ì•ŠëŠ” ë…ë¦½ì ì¸ ê²ƒì„ ì •ì˜í• ë•Œ staticì„ ì´ìš© ì‚¬ìš©ì‹œ í´ë˜ìŠ¤ ì´ë¦„ìœ¼ë¡œ ì‚¬ìš©, prototypeì´ì•„ë‹Œ constructorì— ìˆìŒ
//     - ë”°ë¡œ (d)ì²˜ëŸ¼ ì„ ì–¸ ì—†ì´ calAge3()ë‚˜ introduce() ë©”ì„œë“œê°€ prototypeì•ˆì— ë“¤ì–´ê°€ ìˆìŒ, ìœ ìš©í•˜ê³  ì½”ë“œê°€ ê¹”ë”í•¨
        class Person4 {
            constructor(name, email, birthday){ 
                this.name = name;
                this.email = email;
                this.birthday = new Date(birthday);
            }
            introduce() {
                return `Hello, my name is ${this.name}`;
            }
            calAge4() {
                const diff = Date.now() - this.birthday.getTime();
                const ageDate = new Date(diff);
                return Math.abs(ageDate.getUTCFullYear() - 1970);
            }
            static sumNumber(a, b) {
                return a + b;
            }
        }
        const pjs4 = new Person4('pjs4', 'pjs4@email.com', '1999-05-05');
        console.log(pjs4);
        console.log(pjs4.introduce(), pjs4.calAge4(), Person4.sumNumber(1, 2));
//     - ë¶€ëª¨ í´ë ˆìŠ¤ì—ê²Œ ìƒì†ë°›ì•„ ìì‹ í´ë˜ìŠ¤ë¥¼ ë§Œë“¤ê³ , ìì‹ í´ë˜ìŠ¤ì— ë¶€ëª¨ í´ë˜ìŠ¤ì˜ ì†ì„±ì„ ë¶ˆëŸ¬ì˜¬ë•Œ super()ë¥¼ ì‚¬ìš©
        class Person5 extends Person4 {
            constructor(name, email, birthday, phone, address) {
                super(name, email, birthday); // Person4ì˜ ì†ì„±ì„ ë¶ˆëŸ¬ì˜´
                this.phone = phone;
                this.address = address;
            }
            hello() {
                return `Hello, I am Subclass of person4`;
            }
        }
        const pjs5 = new Person5('pjs5', 'pjs5@email.com', '1999-05-05', '010-1234-5678', 'ì„œìš¸íŠ¹ë³„ì‹œ');
        console.log(pjs5);
        console.log(pjs5.introduce(), pjs5.hello(), pjs5.calAge4(), pjs5.phone, pjs5.address, Person5.sumNumber(1, 2));

// (f) super() ë€?
// - constructorëŠ” ì¸ìŠ¤í„´ìŠ¤í™”ëœ ê°ì²´ì—ì„œ ë‹¤ë¥¸ ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ê¸° ì „ì— ìˆ˜í–‰í•´ì•¼ í•˜ëŠ” ì‚¬ìš©ì ì§€ì • ì´ˆê¸°í™”ë¥¼ ì œê³µê°€ëŠ¥
// - í´ë˜ìŠ¤ì— newë¥¼ ë¶™ì—¬ ì¸ìŠ¤í„´ìŠ¤ ê°ì²´ë¡œ ìƒì„±í•˜ë©´ ë„˜ê²¨ë°›ì€ ì¸ìì™€ í•¨ê»˜ constructorê°€ ë¨¼ì € ì‹¤í–‰ë˜ê³  this.~ì— ì¸ìê°€ í• ë‹¹
// - ìë°”ìŠ¤í¬ë¦½íŠ¸ì—ì„œ super í‚¤ì›Œë“œëŠ” ìì‹ í´ë˜ìŠ¤ ë‚´ì—ì„œ ë¶€ëª¨ í´ë˜ìŠ¤ì˜ ìƒì„±ì, ë©”ì„œë“œë¥¼ í˜¸ì¶œì‹œì— ì‚¬ìš©ë¨
class Phone {
    constructor(vendor) {
        this.vendor = vendor;
    }
    present() {
        return `I have ${this.vendor}`;
    }
}

class Model extends Phone {
    constructor(vendor, brand, model) {
        super(vendor);
        this.brand = brand;
        this.model = model;
    }
    show() {
        return super.present() + ` ${this.brand}, ${this.model}`;
    }
}
const myPhone = new Model('Apple', 'iPhone', 'iPhone 6');
console.log(myPhone);
console.log(myPhone.show());