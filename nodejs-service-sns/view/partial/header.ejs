<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NodeJS_SNS</title>
    <link rel="stylesheet" href="/styles/style.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.2/font/bootstrap-icons.min.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>
<body>
    <nav class="navbar shadow-sm fixed-top navbar-expand-lg justify-content-center">
        <div class="container">
            <a class="navbar-brand">SNS</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarToggle"><span class="navbar-toggler-icon"></span></button>
            <div class="collapse navbar-collapse" id="navbarToggle">
                <% if (!currentUser) { %>
                    <ul class="navbar-nav ms-auto mb-3 mb-lg-0">
                        <li class="nav-item"><a class="nav-link" href="/signup">회원가입</a></li>
                        <li class="nav-item"><a class="nav-link" href="/login">로그인</a></li>
                    </ul> 
                <% } else { %>
                    <ul class="navbar-nav ms-auto mb-3 mb-lg-0">
                        <li class="nav-item"><a class="nav-link" href="/post">홈</a></li>
                        <li class="nav-item"><a class="nav-link" href="/friend">친구</a></li>
                        <li class="nav-item"><a class="nav-link" href="/profile/<%= currentUser._id %>"><%= currentUser.username %></a></li>
                        <li class="nav-item"><form action="/auth/logout" method="POST"><button type="submit" class="nav-link no-outline">Logout</button></form></li>
                    </ul>
                <% } %>
            </div>
        </div>
    </nav>
    <br>
    <br>
    <br>
    <div class="flash-box">
        <% if (error && error.length > 0) { %><div style="max-width: 800px" class = "alert alert-danger" role="alert"><%= error %></div><% } %>
        <% if (success && success.length > 0) { %><div style="max-width: 800px" class="alert alert-success" role="alert"><%= success %></div><% } %>
    </div>